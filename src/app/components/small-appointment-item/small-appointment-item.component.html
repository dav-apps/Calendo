<calendo-delete-appointment-modal
	[appointment]="appointment"
	(remove)="Remove()"
></calendo-delete-appointment-modal>
<calendo-appointment-modal (save)="Update($event)"></calendo-appointment-modal>

<div *ngIf="enableDropdown" ngbDropdown placement="bottom-left">
	<div
		class="px-1 rounded cursor"
		style="font-size: 15px; color: white; user-select: none"
		[style.background-color]="
			appointment.color ? '#' + appointment.color : defaultColor
		"
		ngbDropdownToggle
	>
		<p *ngIf="!compact">
			{{ appointment.name }}<br />
			<span *ngIf="!appointment.allday">{{ getTimeSpan() }}</span>
		</p>
		<p *ngIf="compact">
			<span *ngIf="!appointment.allday">{{ getStartTime() }}</span>
			{{ appointment.name }}
		</p>
	</div>

	<div
		ngbDropdownMenu
		class="theme-background-color-tertiary ms-depth-4 ms-motion-slideDownIn"
	>
		<button class="dropdown-item text-color cursor" (click)="Edit()">
			{{ locale.edit }}
		</button>
		<button class="dropdown-item text-color cursor" (click)="Delete()">
			{{ locale.delete }}
		</button>
	</div>
</div>

<div
	class="px-1 rounded d-inline-flex"
	style="font-size: 15px; color: white; user-select: none"
	[style.background-color]="
		appointment.color ? '#' + appointment.color : defaultColor
	"
	*ngIf="!enableDropdown"
>
	<span *ngIf="!compact">
		{{ appointment.name }}<br />
		<span *ngIf="!appointment.allday">{{ getTimeSpan() }}</span>
	</span>
	<span *ngIf="compact">
		<span *ngIf="!appointment.allday">{{ getStartTime() }}</span>
		{{ appointment.name }}
	</span>
</div>
